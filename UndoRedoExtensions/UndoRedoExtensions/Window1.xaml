<Window x:Class="UndoRedoExtensions.Window1"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:UndoRedoExtensions"
        mc:Ignorable="d"
        Title="データを挿入" SizeToContent="WidthAndHeight" WindowStartupLocation="CenterOwner">
    <StackPanel Margin="16" MinWidth="360">
        <TextBlock Text="開始/終了/予定名を入力" Margin="0,0,0,8" FontWeight="Bold"/>
        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
            <ComboBox Width="75" Margin="10" Name="StartCombo"
          ItemsSource="{Binding DataContext.WorkingTimeOptions,
                                RelativeSource={RelativeSource AncestorType=Window}}"
          SelectedItem="{Binding Start, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <!-- TimeSpan を hh:mm 形式で表示 -->
                        <TextBlock Text="{Binding StringFormat={}{0:hh\\:mm}}"/>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <ComboBox Width="75" Margin="10" Name="EndCombo"
          ItemsSource="{Binding DataContext.WorkingTimeOptions,
                                RelativeSource={RelativeSource AncestorType=Window}}"
          SelectedItem="{Binding End, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding StringFormat={}{0:hh\\:mm}}"/>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>
            <TextBox x:Name="MemoBox" Margin="10" Width="130" />
        </StackPanel>
        
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="OK" Width="80" Margin="0,0,8,0" IsDefault="True" Click="Ok_Click"/>
            <Button Content="キャンセル" Width="80" IsCancel="True"/>
        </StackPanel>
    </StackPanel>
</Window>
